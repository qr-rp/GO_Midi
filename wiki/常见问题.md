# 常见问题

本文档收集了使用 GO_MIDI! 过程中常见的问题及解决方案。

## 安装与运行

### Q: 程序无法启动

**A:** 检查以下几点：
1. 确认是 Windows 10/11 64位系统
2. 确认已解压完整，不是直接运行压缩包内的文件
3. 检查杀毒软件是否拦截，添加白名单

### Q: 提示需要管理员权限

**A:** 这是正常的。程序需要模拟键盘输入到其他窗口，必须以管理员权限运行。在 UAC 提示时点击「是」即可。

### Q: 程序启动后闪退

**A:** 可能原因：
1. 缺少运行时库 - 安装 [Visual C++ Redistributable](https://aka.ms/vs/17/release/vc_redist.x64.exe)
2. 配置文件损坏 - 删除程序目录下的 ini 文件后重试

## MIDI 文件

### Q: 导入 MIDI 后没有声音

**A:** 检查以下几点：
1. 确认已选择目标窗口
2. 确认通道已启用（按钮处于按下状态）
3. 确认键位映射正确
4. 确认目标游戏窗口处于活动状态

### Q: 部分音符没有播放

**A:** 可能原因：
1. 音符超出键位映射范围 - 检查音高范围设置
2. MIDI 文件音域过高/过低 - 调整移调设置
3. 和弦分解未启用 - 开启和弦分解功能

### Q: 播放速度不对

**A:** 
1. 检查速度设置是否为 1.00x
2. 某些 MIDI 文件可能包含速度变化标记

## 键位映射

### Q: 按键与游戏内不对应

**A:** 
1. 确认使用正确的键位映射文件
2. 检查游戏内键位设置是否与映射一致
3. 尝试「重置默认」恢复内置键位

### Q: 如何为其他游戏创建键位映射？

**A:** 
1. 确定游戏支持的演奏按键
2. 创建新的 keymap.txt 文件
3. 按格式定义音符到按键的映射
4. 使用「加载键位」加载新文件

### Q: 修饰键不生效

**A:** 
1. 确认格式正确：`a+` 表示 Shift+A，`a-` 表示 Ctrl+A
2. 确认游戏中支持该修饰组合
3. 检查是否有其他软件拦截修饰键

## 通道配置

### Q: 找不到目标窗口

**A:** 
1. 确认目标程序已打开且未被最小化
2. 点击下拉框时会刷新窗口列表
3. 某些程序可能以管理员权限运行，需要以管理员权限运行本程序

### Q: 多通道同时播放时音符混乱

**A:** 
1. 确认每个通道选择不同的音轨
2. 检查是否有重复的窗口配置
3. 简化配置，先测试单通道

### Q: 移调后音符仍然超出范围

**A:** 
1. 检查键位映射覆盖的音符范围
2. 调整音高范围设置
3. 尝试不同的移调值

## 定时播放

### Q: NTP 同步失败

**A:** 
1. 检查网络连接
2. 确认防火墙允许 NTP 流量（UDP 123）
3. 稍后重试，NTP 服务器可能暂时不可用

### Q: 定时播放不精确

**A:** 
1. 确认 NTP 同步成功
2. 检查系统负载，关闭不必要的程序
3. 网络延迟会影响精度，使用稳定网络

### Q: 如何取消定时？

**A:** 点击「停止」按钮或再次点击「设置定时」按钮。

## 性能问题

### Q: 播放时有卡顿

**A:** 
1. 减少启用的通道数量
2. 关闭其他占用 CPU 的程序
3. 检查目标游戏是否占用过多资源

### Q: 进度条拖动不流畅

**A:** 
1. 大型 MIDI 文件跳转需要处理时间
2. 这是正常现象，不影响播放质量

## 其他问题

### Q: 如何报告 Bug？

**A:** 
1. 前往 [Issues](https://github.com/qr-rp/GO_Midi/issues) 页面
2. 点击「New Issue」
3. 描述问题、复现步骤和系统信息

### Q: 如何获取帮助？

**A:** 
1. 加入 QQ 群：[GO_MIDI!](https://qm.qq.com/q/qDWtM0egCW)
2. 在 GitHub Issues 提问
3. 查阅本文档

### Q: 是否支持其他操作系统？

**A:** 目前仅支持 Windows 10/11。暂无其他平台支持计划。
